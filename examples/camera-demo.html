<!DOCTYPE html>
<html>
<head>
  <title>Three.js Camera Plugin Demo</title>
  <style>
    #viewport { width: 800px; height: 450px; border: 1px solid #ccc; }
    .control-panel { margin: 20px 0; }
    button { margin-right: 10px; padding: 8px 16px; }
  </style>
</head>
<body>
  <div class="control-panel">
    <button onclick="switchCamera('perspective')">透视相机</button>
    <button onclick="switchCamera('orthographic')">正交相机</button>
  </div>
  <div id="viewport"></div>

  <script src="/dist/engine-kernel.js"></script>
  <script>
    const engine = new EngineKernel({
      container: '#viewport',
      plugins: [CameraPlugin] 
    });

    // 初始化完成后获取相机控制器
    let cameraController;
    engine.onReady(() => {
      cameraController = engine.getService('CameraService');
      console.log('当前相机类型:', cameraController.getCurrentCamera().type);
    });

    // 相机切换演示
    function switchCamera(type) {
      cameraController.switchType(type);
      console.log('已切换至:', type);
    }

    // 视口尺寸变化监听
    window.addEventListener('resize', () => {
      engine.trigger('viewport-resize', {
        width: window.innerWidth,
        height: window.innerHeight
      });
    });
  </script>
</body>
</html>